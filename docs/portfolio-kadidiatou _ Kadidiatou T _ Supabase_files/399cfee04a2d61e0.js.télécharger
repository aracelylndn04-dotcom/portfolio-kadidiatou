;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="83665ff2-8344-3e8e-d9b1-438901231b30")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,693241,e=>{"use strict";var t=e.i(478902),a=e.i(710483);let s=({resourceText:e,isFullPage:s=!1})=>{let i=()=>(0,t.jsx)(a.Admonition,{type:"warning",title:`You need additional permissions to ${e}`,description:"Contact your organization owner or administrator for assistance."});return s?(0,t.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,t.jsx)("div",{className:"max-w-lg",children:(0,t.jsx)(i,{})})}):(0,t.jsx)(i,{})};e.s(["NoPermission",0,s,"default",0,s])},744061,418638,e=>{"use strict";var t=e.i(478902),a=e.i(938933),s=e.i(843778);function i({children:e,className:a,tag:s="div",style:i}){let r=`${s}`;return(0,t.jsx)(r,{style:i,children:e})}i.Title=function({className:e,level:a=1,children:s,style:i}){let r=`h${a}`;return(0,t.jsx)(r,{style:i,children:s})},i.Text=function({className:e,children:a,style:s,type:i,disabled:r,mark:n,code:l,keyboard:c,underline:o,strikethrough:u,strong:d,small:h}){return l?(0,t.jsx)("code",{style:s,children:a}):n?(0,t.jsx)("mark",{style:s,children:a}):c?(0,t.jsx)("kbd",{style:s,children:a}):d?(0,t.jsx)("strong",{style:s,children:a}):(0,t.jsx)("span",{style:s,children:a})},i.Link=function({children:e,target:a="_blank",href:s,className:i,onClick:r,style:n}){return(0,t.jsx)("a",{onClick:r,href:s,target:a,rel:"noopener noreferrer",style:n,children:e})},e.s(["default",0,i],418638);var r=e.i(389959);let n=(0,r.createContext)({type:"text"}),l=e=>{let{type:a}=e;return(0,t.jsx)(n.Provider,{value:{type:a},children:e.children})},c=()=>{let e=(0,r.useContext)(n);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function o({children:e,className:a,ulClassName:s,style:i,type:r="text"}){return(0,t.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:a,style:i,children:(0,t.jsx)(l,{type:r,children:(0,t.jsx)("ul",{className:s,children:e})})})}o.Item=function({children:e,icon:i,active:r,rounded:n,onClick:l,doNotCloseOverlay:o=!1,showActiveBar:u=!1,style:d}){let h=(0,a.default)("menu"),{type:m}=c(),p=[h.item.base];p.push(h.item.variants[m].base),r?p.push(h.item.variants[m].active):p.push(h.item.variants[m].normal);let f=[h.item.content.base];r?f.push(h.item.content.active):f.push(h.item.content.normal);let g=[h.item.icon.base];return r?g.push(h.item.icon.active):g.push(h.item.icon.normal),(0,t.jsxs)("li",{role:"menuitem",className:(0,s.cn)("outline-none",p),style:d,onClick:l,"aria-current":r?"page":void 0,children:[i&&(0,t.jsx)("div",{className:`${g.join(" ")} min-w-fit`,children:i}),(0,t.jsx)("span",{className:f.join(" "),children:e})]})},o.Group=function({children:e,icon:s,title:i}){let r=(0,a.default)("menu"),{type:n}=c();return(0,t.jsxs)("div",{className:[r.group.base,r.group.variants[n]].join(" "),children:[s&&(0,t.jsx)("span",{className:r.group.icon,children:s}),(0,t.jsx)("span",{className:r.group.content,children:i}),e]})},o.Misc=function({children:e}){return(0,t.jsx)("div",{children:(0,t.jsx)(i.Text,{children:(0,t.jsx)("span",{children:e})})})},e.s(["default",0,o],744061)},862326,e=>{"use strict";var t=e.i(744061);e.s(["Menu",()=>t.default])},388147,799793,e=>{"use strict";var t=e.i(478902),a=e.i(587433),s=e.i(862326),i=e.i(645388),r=e.i(837710);let n=({item:e,isActive:n,target:l="_self",hoverText:c="",onClick:o})=>{let{name:u="",url:d="",icon:h,rightIcon:m,isExternal:p,label:f,disabled:g}=e,j=(0,t.jsx)(s.Menu.Item,{icon:h,active:n,onClick:o,children:(0,t.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 min-w-0 flex-1",title:c||("string"==typeof u?u:""),children:[(0,t.jsx)("span",{className:"truncate flex-1 min-w-0",children:u}),void 0!==f&&(0,t.jsx)(a.Badge,{className:"flex-shrink-0",variant:"new"===f.toLowerCase()?"success":"warning",children:f})]}),m&&(0,t.jsx)("div",{children:m})]})});return g?(0,t.jsx)("div",{className:"opacity-50 pointer-events-none",children:j}):d?p?(0,t.jsx)(r.Button,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:h,children:(0,t.jsx)(i.default,{href:d,target:"_blank",rel:"noreferrer",children:u})}):(0,t.jsx)(i.default,{href:d,className:"block",target:l,children:j}):j};e.s(["ProductMenuItem",0,n],799793),e.s(["ProductMenu",0,({page:e,menu:i})=>(0,t.jsx)("div",{className:"flex flex-col space-y-8",children:(0,t.jsx)(s.Menu,{type:"pills",children:i.map((r,l)=>(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"my-6 space-y-8",children:(0,t.jsxs)("div",{className:"mx-3",children:[(0,t.jsx)(s.Menu.Group,{title:r.title?(0,t.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,t.jsx)("span",{children:r.title}),r.isPreview&&(0,t.jsx)(a.Badge,{variant:"warning",children:"Not production ready"})]}):null}),(0,t.jsx)("div",{children:r.items.map(a=>{let s=a.pages?a.pages.includes(e??""):e===a.key;return(0,t.jsx)(n,{item:a,isActive:s,target:a.isExternal?"_blank":"_self"},a.key)})})]})}),l!==i.length-1&&(0,t.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},r.key||r.title))})})],388147)},3259,100387,e=>{"use strict";var t=e.i(478902),a=e.i(153545),s=e.i(933505);e.s(["ChevronRightIcon",()=>s.default],100387);var s=s,i=e.i(389959),r=e.i(843778);let n=i.forwardRef(({...e},a)=>(0,t.jsx)("nav",{ref:a,"aria-label":"breadcrumb",...e}));n.displayName="Breadcrumb";let l=i.forwardRef(({className:e,...a},s)=>(0,t.jsx)("ol",{ref:s,className:(0,r.cn)("flex flex-wrap items-center gap-0.5 break-words text-sm text-muted-foreground sm:gap-1.5",e),...a}));l.displayName="BreadcrumbList";let c=i.forwardRef(({className:e,...a},s)=>(0,t.jsx)("li",{ref:s,className:(0,r.cn)("inline-flex text-foreground-lighter items-center gap-1.5 leading-5",e),...a}));c.displayName="BreadcrumbItem";let o=i.forwardRef(({asChild:e,className:s,...i},n)=>{let l=e?a.Slot:"a";return(0,t.jsx)(l,{ref:n,className:(0,r.cn)("transition-colors underline lg:no-underline hover:text-foreground",s),...i})});o.displayName="BreadcrumbLink";let u=i.forwardRef(({className:e,...a},s)=>(0,t.jsx)("span",{ref:s,role:"link","aria-disabled":"true","aria-current":"page",className:(0,r.cn)("no-underline text-foreground",e),...a}));u.displayName="BreadcrumbPage";let d=({children:e,className:a,...i})=>(0,t.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,r.cn)("[&>svg]:size-3.5 text-foreground-muted",a),...i,children:e??(0,t.jsx)(s.default,{})});d.displayName="BreadcrumbSeparator";let h=({className:e,...a})=>(0,t.jsxs)("span",{className:(0,r.cn)("flex h-4 w-4 items-center justify-center",e),...a,children:[(0,t.jsx)("svg",{role:"presentation","aria-hidden":"true",width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M3.625 7.5C3.625 8.12132 3.12132 8.625 2.5 8.625C1.87868 8.625 1.375 8.12132 1.375 7.5C1.375 6.87868 1.87868 6.375 2.5 6.375C3.12132 6.375 3.625 6.87868 3.625 7.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM12.5 8.625C13.1213 8.625 13.625 8.12132 13.625 7.5C13.625 6.87868 13.1213 6.375 12.5 6.375C11.8787 6.375 11.375 6.87868 11.375 7.5C11.375 8.12132 11.8787 8.625 12.5 8.625Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),(0,t.jsx)("span",{className:"sr-only",children:"More"})]});h.displayName="BreadcrumbEllipsis",e.s(["Breadcrumb",()=>n,"BreadcrumbEllipsis",()=>h,"BreadcrumbItem",()=>c,"BreadcrumbLink",()=>o,"BreadcrumbList",()=>l,"BreadcrumbPage",()=>u,"BreadcrumbSeparator",()=>d],3259)},127739,e=>{"use strict";var t=e.i(478902),a=e.i(709520),s=e.i(389959),i=e.i(843778);let r=(0,a.cva)(["mx-auto w-full @container px-6 xl:px-10"],{variants:{size:{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}},defaultVariants:{size:"default"}}),n=(0,s.forwardRef)(({className:e,size:a,...s},n)=>(0,t.jsx)("div",{ref:n,...s,className:(0,i.cn)(r({size:a}),e)}));n.displayName="PageContainer",e.s(["PageContainer",0,n])},456050,e=>{"use strict";var t=e.i(478902),a=e.i(709520),s=e.i(389959),i=e.i(843778),r=e.i(3259),n=e.i(127739);let l=(0,a.cva)(["flex flex-col gap-4 w-full"],{variants:{size:{default:"pt-12",small:"pt-12",large:"pt-12",full:"pt-6"}},defaultVariants:{size:"default"}}),c=(0,s.createContext)({size:"default"}),o=()=>(0,s.useContext)(c),u=({className:e,size:a,children:s,...r})=>{let n=a??"default";return(0,t.jsx)(c.Provider,{value:{size:n},children:(0,t.jsx)("div",{"data-slot":"page-header","data-size":n,className:(0,i.cn)(l({size:n}),e),...r,children:s})})},d=({className:e,children:a,...s})=>{let{size:l}=o();return(0,t.jsx)(n.PageContainer,{size:l,children:(0,t.jsx)(r.Breadcrumb,{"data-slot":"page-header-breadcrumb",className:(0,i.cn)("flex items-center gap-4 [&_li]:text-xs",e),...s,children:a})})};d.displayName="PageHeaderBreadcrumb";let h=({className:e,...a})=>(0,t.jsx)("div",{"data-slot":"page-header-icon",className:(0,i.cn)("text-foreground-light",e),...a});h.displayName="PageHeaderIcon";let m=({className:e,children:a,...s})=>(0,t.jsx)("div",{"data-slot":"page-header-summary",className:(0,i.cn)("flex flex-col gap-1",e),...s,children:a});m.displayName="PageHeaderSummary";let p=({className:e,children:a,...s})=>(0,t.jsx)("h1",{"data-slot":"page-header-title",className:(0,i.cn)("heading-title",e),...s,children:a}),f=({className:e,children:a,...s})=>(0,t.jsx)("div",{"data-slot":"page-header-description",className:(0,i.cn)("heading-subSection text-foreground-light",e),...s,children:a}),g=({className:e,children:a,...s})=>{let{size:r}=o();return(0,t.jsx)(n.PageContainer,{size:r,children:(0,t.jsx)("div",{"data-slot":"page-header-meta",className:(0,i.cn)("flex flex-col @xl:flex-row @xl:justify-between @xl:items-center gap-4",'[&>[data-slot="page-header-icon"]]:shrink-0','[&>[data-slot="page-header-summary"]]:flex-1',e),...s,children:a})})};g.displayName="PageHeaderMeta";let j=({className:e,...a})=>(0,t.jsx)("div",{"data-slot":"page-header-actions",className:(0,i.cn)("flex items-center gap-2 shrink-0",e),...a});j.displayName="PageHeaderAside";let x=({className:e,...a})=>{let{size:s}=o();return(0,t.jsx)(n.PageContainer,{size:s,className:(0,i.cn)("full"===s&&"border-b"),children:(0,t.jsx)("div",{"data-slot":"page-header-footer",className:(0,i.cn)("w-full [&>nav]:border-b-0","full"!==s&&"border-b",e),...a})})};x.displayName="PageHeaderNavigationTabs",e.s(["PageHeader",()=>u,"PageHeaderAside",()=>j,"PageHeaderBreadcrumb",()=>d,"PageHeaderDescription",()=>f,"PageHeaderIcon",()=>h,"PageHeaderMeta",()=>g,"PageHeaderNavigationTabs",()=>x,"PageHeaderSummary",()=>m,"PageHeaderTitle",()=>p])},14703,e=>{"use strict";var t=e.i(242882),a=e.i(356003),s=e.i(234745),i=e.i(10429),r=e.i(389959),n=e.i(294285);async function l({projectRef:e},t){if(!e)throw Error("projectRef is required");let{data:a,error:i}=await (0,s.get)("/platform/auth/{ref}/config",{params:{path:{ref:e}},signal:t});return i&&(0,s.handleError)(i),a}e.s(["getProjectAuthConfig",()=>l,"useAuthConfigPrefetch",0,({projectRef:e})=>{let t=(0,a.useQueryClient)();return(0,r.useCallback)(()=>{e&&t.prefetchQuery({queryKey:n.authKeys.authConfig(e),queryFn:({signal:t})=>l({projectRef:e},t)})},[t,e])},"useAuthConfigQuery",0,({projectRef:e},{enabled:a=!0,...s}={})=>(0,t.useQuery)({queryKey:n.authKeys.authConfig(e),queryFn:({signal:t})=>l({projectRef:e},t),enabled:a&&i.IS_PLATFORM&&void 0!==e,...s})])},785951,e=>{"use strict";var t=e.i(478902),a=e.i(346428);e.i(128328);var s=e.i(657588),i=e.i(158639),r=e.i(388147),n=e.i(14703),l=e.i(912793),c=e.i(951138),o=e.i(825713),u=e.i(887902);let d=()=>{let e=(0,a.useRouter)(),{ref:c="default"}=(0,i.useParams)(),o=(0,s.useFlag)("authOverviewPage"),d=(0,s.useFlag)("EnableOAuth21"),{authenticationSignInProviders:h,authenticationRateLimits:m,authenticationEmails:p,authenticationMultiFactor:f,authenticationAttackProtection:g,authenticationPerformance:j}=(0,l.useIsFeatureEnabled)(["authentication:sign_in_providers","authentication:rate_limits","authentication:emails","authentication:multi_factor","authentication:attack_protection","authentication:performance"]);(0,n.useAuthConfigPrefetch)({projectRef:c});let x=e.pathname.split("/")[4];return(0,t.jsx)(r.ProductMenu,{page:x,menu:(0,u.generateAuthMenu)(c,{authenticationSignInProviders:h,authenticationRateLimits:m,authenticationEmails:p,authenticationMultiFactor:f,authenticationAttackProtection:g,authenticationShowOverview:o,authenticationOauth21:d,authenticationPerformance:j})})},h=(0,c.withAuth)(({children:e})=>(0,t.jsx)(o.ProjectLayout,{title:"Authentication",product:"Authentication",productMenu:(0,t.jsx)(d,{}),isBlocking:!1,children:e}));e.s(["default",0,h])},309233,e=>{"use strict";var t=e.i(38429),a=e.i(356003),s=e.i(355901),i=e.i(234745),r=e.i(915993),n=e.i(294285);async function l({projectRef:e,config:t}){let{data:a,error:s}=await (0,i.patch)("/platform/auth/{ref}/config",{params:{path:{ref:e}},body:{...t}});return s&&(0,i.handleError)(s),a}e.s(["useAuthConfigUpdateMutation",0,({onSuccess:e,onError:i,...c}={})=>{let o=(0,a.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>l(e),async onSuccess(t,a,s){let{projectRef:i}=a;await Promise.all([o.invalidateQueries({queryKey:n.authKeys.authConfig(i)}),o.invalidateQueries({queryKey:r.lintKeys.lint(i)})]),await e?.(t,a,s)},async onError(e,t,a){void 0===i?s.toast.error(`Failed to update auth configuration: ${e.message}`):i(e,t,a)},...c})}])},649068,e=>{"use strict";let t="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;e.s(["DEBUG_BUILD",()=>t])},759962,582902,e=>{"use strict";var t=e.i(242882),a=e.i(480683),s=e.i(234745),i=e.i(897608),r=e.i(14703);let n={list:(e,t)=>["projects",e,"oauth-server-apps",t]};async function l({projectRef:e,clientEndpoint:t,page:a=1}){if(!e)throw Error("Project reference is required");if(!t)throw Error("Client endpoint is required");let r=await (0,i.createProjectSupabaseClient)(e,t),{data:n,error:l}=await r.auth.admin.oauth.listClients({page:a,perPage:100});return l&&(0,s.handleError)(l),n}e.s(["oauthServerAppKeys",0,n],582902),e.s(["useOAuthServerAppsQuery",0,({projectRef:e},{enabled:s=!0,...i}={})=>{let{data:c}=(0,a.useProjectEndpointQuery)({projectRef:e}),o=c?.endpoint,{data:u,isSuccess:d}=(0,r.useAuthConfigQuery)({projectRef:e}),h=!!u?.OAUTH_SERVER_ENABLED;return(0,t.useQuery)({queryKey:n.list(e,o),queryFn:()=>l({projectRef:e,clientEndpoint:o}),enabled:s&&void 0!==e&&!!o&&d&&h,...i})}],759962)},672296,e=>{"use strict";function t(e){return e.split("#")[0]}function a(e,t={}){let{maxDepth:s=3,redaction:i="[REDACTED]",truncationNotice:r="[REDACTED: max depth reached]",sensitiveKeys:n=[]}=t,l=new Set(["password","passwd","pwd","pass","secret","token","id_token","access_token","refresh_token","apikey","api_key","api-key","apiKey","key","privatekey","private_key","client_secret","clientSecret","auth","authorization","ssh_key","sshKey","bearer","session","cookie","csrf","xsrf","ip","ip_address","ipAddress","aws_access_key_id","aws_secret_access_key","gcp_service_account_key",...n].map(e=>e.toLowerCase())),c=[{re:/\b(?:(?:25[0-5]|2[0-4]\d|1?\d?\d)\.){3}(?:25[0-5]|2[0-4]\d|1?\d?\d)\b/g,reason:"ip"},{re:/\b(?:[A-Fa-f0-9]{1,4}:){2,7}[A-Fa-f0-9]{1,4}\b/g,reason:"ip6"},{re:/\b(AKI|ASI)A[0-9A-Z]{16}\b/g,reason:"aws_access_key_id"},{re:/\b[0-9A-Za-z/+]{40}\b/g,reason:"aws_secret_access_key_like"},{re:/\bBearer\s+[A-Za-z0-9\-._~+/]+=*\b/g,reason:"bearer"},{re:/\b[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\b/g,reason:"jwt_like"},{re:/\b[A-Za-z0-9_\-]{24,64}\b/g,reason:"long_token"}],o=new WeakMap;function u(e){let t=e;for(let{re:e}of c)t=t.replace(e,i);return t}function d(e){return l.has(String(e).toLowerCase())}return e.map(e=>(function e(t,a){if(null==t||"number"==typeof t||"boolean"==typeof t||"bigint"==typeof t)return t;if("string"==typeof t)return u(t);if("function"==typeof t)return"[Function]";if(t instanceof Date)return t.toISOString();if(t instanceof RegExp)return t.toString();if(ArrayBuffer.isView(t)&&!(t instanceof DataView))return`[TypedArray byteLength=${t.byteLength}]`;if(t instanceof ArrayBuffer)return`[ArrayBuffer byteLength=${t.byteLength}]`;if(a>=s)return r;if("object"==typeof t){if(o.has(t))return"[Circular]";if(Array.isArray(t)){let s=[];o.set(t,s);for(let i=0;i<t.length;i++)s[i]=e(t[i],a+1);return s}if(function(e){if(null===e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}(t)){let s={};for(let[r,n]of(o.set(t,s),Object.entries(t)))d(r)?s[r]=i:s[r]=e(n,a+1);return s}if(t instanceof Map){let s=[];for(let[r,n]of(o.set(t,s),t.entries())){let t=d(r)?i:e(r,a+1),l=d(r)?i:e(n,a+1);s.push([t,l])}return s}if(t instanceof Set){let s=[];for(let i of(o.set(t,s),t.values()))s.push(e(i,a+1));return s}if(t instanceof URL)return t.toString();if(t instanceof Error){let e={name:t.name,message:u(t.message),stack:r};return o.set(t,e),e}try{return u(String(t))}catch{return u(Object.prototype.toString.call(t))}}return u(String(t))})(e,0))}e.s(["sanitizeArrayOfObjects",()=>a,"sanitizeUrlHashParams",()=>t])},955708,e=>{"use strict";var t=e.i(478902),a=e.i(532728),s=e.i(934302),i=e.i(645388),r=e.i(389959),n=e.i(408891),l=e.i(355901),c=e.i(531837),o=e.i(249909);e.i(128328);var u=e.i(158639),d=e.i(937942),h=e.i(693241),m=e.i(14703),p=e.i(309233),f=e.i(759962),g=e.i(2579),j=e.i(10429),x=e.i(837710),v=e.i(627069),b=e.i(24315),y=e.i(61863),A=e.i(428353),_=e.i(378277),P=e.i(290811),k=e.i(710483),E=e.i(466472),R=e.i(538482),N=e.i(108151);let O=c.object({id:c.string(),name:c.string(),value:c.string(),description:c.string().optional()}),S=c.object({OAUTH_SERVER_ENABLED:c.boolean().default(!1),OAUTH_SERVER_ALLOW_DYNAMIC_REGISTRATION:c.boolean().default(!1),OAUTH_SERVER_AUTHORIZATION_PATH:c.string().default(""),availableScopes:c.array(c.string()).default(["openid","email","profile"]),config_urls:c.array(O).optional()}).superRefine((e,t)=>{e.OAUTH_SERVER_ENABLED&&""===e.OAUTH_SERVER_AUTHORIZATION_PATH.trim()&&t.addIssue({path:["OAUTH_SERVER_AUTHORIZATION_PATH"],code:o.ZodIssueCode.custom,message:"Authorization Path is required when OAuth Server is enabled."})}),w=()=>{let e,{ref:c}=(0,u.useParams)(),{data:o,isPending:O,isSuccess:w}=(0,m.useAuthConfigQuery)({projectRef:c}),{mutate:T,isPending:C}=(0,p.useAuthConfigUpdateMutation)({onSuccess:()=>{l.toast.success("OAuth server settings updated successfully")},onError:e=>{l.toast.error(`Failed to update OAuth server settings: ${e?.message}`)}}),[I,H]=(0,r.useState)(!1),[L,U]=(0,r.useState)(!1),{can:B,isLoading:D,isSuccess:V}=(0,g.useAsyncCheckPermissions)(s.PermissionAction.READ,"custom_config_gotrue"),{data:F}=(0,f.useOAuthServerAppsQuery)({projectRef:c}),M=F?.clients||[],{can:z}=(0,g.useAsyncCheckPermissions)(s.PermissionAction.UPDATE,"custom_config_gotrue"),Z=(0,n.useForm)({resolver:(0,a.zodResolver)(S),defaultValues:{OAUTH_SERVER_ENABLED:!0,OAUTH_SERVER_ALLOW_DYNAMIC_REGISTRATION:!1,OAUTH_SERVER_AUTHORIZATION_PATH:"/oauth/consent",availableScopes:["openid","email","profile"]}});(0,r.useEffect)(()=>{w&&o&&Z.reset({OAUTH_SERVER_ENABLED:o.OAUTH_SERVER_ENABLED??!1,OAUTH_SERVER_ALLOW_DYNAMIC_REGISTRATION:o.OAUTH_SERVER_ALLOW_DYNAMIC_REGISTRATION??!1,OAUTH_SERVER_AUTHORIZATION_PATH:o.OAUTH_SERVER_AUTHORIZATION_PATH??"/oauth/consent",availableScopes:["openid","email","profile"]})},[w]);let $=async e=>{if(!c)return console.error("Project ref is required");T({projectRef:c,config:{OAUTH_SERVER_ENABLED:e.OAUTH_SERVER_ENABLED,OAUTH_SERVER_ALLOW_DYNAMIC_REGISTRATION:e.OAUTH_SERVER_ALLOW_DYNAMIC_REGISTRATION,OAUTH_SERVER_AUTHORIZATION_PATH:e.OAUTH_SERVER_AUTHORIZATION_PATH}})},G=e=>{e?H(!0):Z.setValue("OAUTH_SERVER_ALLOW_DYNAMIC_REGISTRATION",!1,{shouldDirty:!0})},K=e=>{!e&&M.length>0?U(!0):Z.setValue("OAUTH_SERVER_ENABLED",e,{shouldDirty:!0})};return V&&!B?(0,t.jsx)(h.default,{resourceText:"view OAuth server settings"}):O||D?(0,t.jsx)(N.GenericSkeletonLoader,{}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.Form_Shadcn_,{...Z,children:(0,t.jsx)("form",{onSubmit:Z.handleSubmit($),children:(0,t.jsxs)(v.Card,{children:[(0,t.jsx)(v.CardContent,{children:(0,t.jsx)(y.FormField_Shadcn_,{control:Z.control,name:"OAUTH_SERVER_ENABLED",render:({field:e})=>(0,t.jsx)(R.FormItemLayout,{layout:"flex-row-reverse",label:"Enable the Supabase OAuth Server",description:(0,t.jsxs)(t.Fragment,{children:["Enable OAuth server functionality for your project to create and manage OAuth applications."," ",(0,t.jsx)(d.InlineLink,{href:`${j.DOCS_URL}/guides/auth/oauth-server`,children:"Learn more"})]}),children:(0,t.jsx)(b.FormControl_Shadcn_,{children:(0,t.jsx)(P.Switch,{checked:e.value,onCheckedChange:K,disabled:!z})})})})}),Z.watch("OAUTH_SERVER_ENABLED")&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.CardContent,{children:(0,t.jsx)(R.FormItemLayout,{label:"Site URL",layout:"flex-row-reverse",description:(0,t.jsxs)(t.Fragment,{children:["The base URL of your application, configured in"," ",(0,t.jsx)(i.default,{href:`/project/${c}/auth/url-configuration`,rel:"noreferrer",className:"text-foreground-light underline hover:text-foreground transition",children:"Auth URL Configuration"})," ","settings."]}),children:(0,t.jsx)(_.Input_Shadcn_,{value:o?.SITE_URL,disabled:!0,placeholder:"https://example.com"})})}),(0,t.jsxs)(v.CardContent,{className:"space-y-4",children:[(0,t.jsx)(y.FormField_Shadcn_,{control:Z.control,name:"OAUTH_SERVER_AUTHORIZATION_PATH",render:({field:e})=>(0,t.jsx)(R.FormItemLayout,{label:"Authorization Path",layout:"flex-row-reverse",description:"Path where you'll implement the OAuth authorization UI (consent screens).",children:(0,t.jsx)(b.FormControl_Shadcn_,{children:(0,t.jsx)(_.Input_Shadcn_,{...e,placeholder:"/auth/authorize"})})})}),(e=`${o?.SITE_URL}${Z.watch("OAUTH_SERVER_AUTHORIZATION_PATH")||"/oauth/consent"}`,(0,t.jsx)(k.Admonition,{type:"tip",title:"Make sure this path is implemented in your application.",description:(0,t.jsxs)(t.Fragment,{children:["Preview Authorization URL:"," ",(0,t.jsx)("a",{href:e,target:"_blank",rel:"noreferrer",className:"text-foreground-light underline hover:text-foreground transition",children:e})]})}))]}),(0,t.jsx)(v.CardContent,{children:(0,t.jsx)(y.FormField_Shadcn_,{control:Z.control,name:"OAUTH_SERVER_ALLOW_DYNAMIC_REGISTRATION",render:({field:e})=>(0,t.jsx)(R.FormItemLayout,{layout:"flex-row-reverse",label:"Allow Dynamic OAuth Apps",description:(0,t.jsxs)(t.Fragment,{children:["Enable dynamic OAuth app registration. Apps can be registered programmatically via APIs."," ",(0,t.jsx)(d.InlineLink,{href:`${j.DOCS_URL}/guides/auth/oauth-server/mcp-authentication#oauth-client-setup`,children:"Learn more"})]}),children:(0,t.jsx)(b.FormControl_Shadcn_,{children:(0,t.jsx)(P.Switch,{checked:e.value,onCheckedChange:G,disabled:!z})})})})})]}),(0,t.jsxs)(v.CardFooter,{className:"justify-end space-x-2",children:[(0,t.jsx)(x.Button,{type:"default",onClick:()=>Z.reset(),disabled:C,children:"Cancel"}),(0,t.jsx)(x.Button,{type:"primary",htmlType:"submit",disabled:!z||!Z.formState.isDirty,loading:C,children:"Save changes"})]})]})})}),(0,t.jsxs)(E.default,{variant:"warning",visible:I,size:"large",title:"Enable dynamic OAuth app registration",confirmLabel:"Enable dynamic app registration",onConfirm:()=>{Z.setValue("OAUTH_SERVER_ALLOW_DYNAMIC_REGISTRATION",!0,{shouldDirty:!0}),H(!1)},onCancel:()=>{H(!1)},alert:{title:"By confirming, you acknowledge the risks and would like to move forward with enabling dynamic OAuth app registration."},children:[(0,t.jsx)("p",{className:"text-sm text-foreground-lighter pb-4",children:"Dynamic OAuth apps (also known as dynamic client registration) exposes a public endpoint allowing anyone to register OAuth clients. Bad actors could create malicious apps with legitimate-sounding names to phish your users for authorization."}),(0,t.jsx)("p",{className:"text-sm text-foreground-lighter pb-4",children:"You may also see spam registrations that are difficult to trace or moderate, making it harder to identify trustworthy applications in your OAuth apps list."}),(0,t.jsx)("p",{className:"text-sm text-foreground-lighter pb-4",children:"Only enable this if you have a specific use case requiring programmatic client registration and understand the security implications."})]}),(0,t.jsxs)(E.default,{variant:"warning",visible:L,size:"large",title:"Disable OAuth Server",confirmLabel:"Disable OAuth Server",onConfirm:()=>{Z.setValue("OAUTH_SERVER_ENABLED",!1,{shouldDirty:!0}),U(!1)},onCancel:()=>{U(!1)},alert:{title:`You have ${M.length} active OAuth app${M.length>1?"s":""} that will be deactivated.`},children:[(0,t.jsx)("p",{className:"text-sm text-foreground-lighter pb-4",children:"Disabling the OAuth Server will immediately deactivate all OAuth applications and prevent new authentication flows from working. This action will affect all users currently using your OAuth applications."}),(0,t.jsx)("p",{className:"text-sm text-foreground-lighter pb-4",children:(0,t.jsx)("strong",{children:"What will happen:"})}),(0,t.jsxs)("ul",{className:"text-sm text-foreground-lighter pb-4 list-disc list-inside space-y-1",children:[(0,t.jsx)("li",{children:"All OAuth apps will be deactivated"}),(0,t.jsx)("li",{children:"Existing access tokens will become invalid"}),(0,t.jsx)("li",{children:"Users won't be able to sign in through OAuth flows"}),(0,t.jsx)("li",{children:"Third-party integrations will stop working"})]}),(0,t.jsx)("p",{className:"text-sm text-foreground-lighter pb-4",children:"You can re-enable the OAuth Server at any time."})]})]})};var T=e.i(785951),C=e.i(448710),I=e.i(513826),H=e.i(127739),L=e.i(456050),U=e.i(228027);let B=()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(L.PageHeader,{size:"default",children:(0,t.jsxs)(L.PageHeaderMeta,{children:[(0,t.jsxs)(L.PageHeaderSummary,{children:[(0,t.jsx)(L.PageHeaderTitle,{children:"OAuth Server"}),(0,t.jsx)(L.PageHeaderDescription,{children:"Configure your project to act as an identity provider for third-party applications"})]}),(0,t.jsx)(L.PageHeaderAside,{children:(0,t.jsx)(I.DocsButton,{href:`${j.DOCS_URL}/guides/auth/oauth-server`})})]})}),(0,t.jsx)(H.PageContainer,{size:"default",children:(0,t.jsx)(U.PageSection,{children:(0,t.jsx)(U.PageSectionContent,{children:(0,t.jsx)(w,{})})})})]});B.getLayout=e=>(0,t.jsx)(C.default,{children:(0,t.jsx)(T.default,{children:e})}),e.s(["default",0,B],955708)},543112,(e,t,a)=>{let s="/project/[ref]/auth/oauth-server";(window.__NEXT_P=window.__NEXT_P||[]).push([s,()=>e.r(955708)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([s])})},111410,e=>{e.v(t=>Promise.all(["static/chunks/a428d2b7e6671266.js","static/chunks/92a7c4be60dd12e3.js"].map(t=>e.l(t))).then(()=>t(677146)))},883471,e=>{e.v(t=>Promise.all(["static/chunks/69b2faaedd35af23.js"].map(t=>e.l(t))).then(()=>t(518769)))},929883,e=>{e.v(t=>Promise.all(["static/chunks/6fd253a8b8879e46.js"].map(t=>e.l(t))).then(()=>t(120649)))},763533,e=>{e.v(t=>Promise.all(["static/chunks/66a6e57db35d752a.js"].map(t=>e.l(t))).then(()=>t(938650)))},730314,e=>{e.v(t=>Promise.all(["static/chunks/dcadd9d46d72282e.js","static/chunks/3d87777fedc85724.js","static/chunks/82dddbda1a808189.js","static/chunks/9f1b22cc5cc0244c.js","static/chunks/c974c4c17d9b515a.js","static/chunks/cc8130a84ee9bc2c.css"].map(t=>e.l(t))).then(()=>t(686651)))},753940,e=>{e.v(t=>Promise.all(["static/chunks/046f60a3ac988a54.js"].map(t=>e.l(t))).then(()=>t(478124)))},724565,e=>{e.v(t=>Promise.all(["static/chunks/3ef67abf4c659c0b.js"].map(t=>e.l(t))).then(()=>t(341546)))},591393,e=>{e.v(t=>Promise.all(["static/chunks/e9ad074e72197584.js"].map(t=>e.l(t))).then(()=>t(217383)))},379416,e=>{e.v(t=>Promise.all(["static/chunks/031b0d6330b6fbae.js"].map(t=>e.l(t))).then(()=>t(931066)))},15732,e=>{e.v(t=>Promise.all(["static/chunks/0d5256e667945be4.js"].map(t=>e.l(t))).then(()=>t(760545)))},957083,e=>{e.v(t=>Promise.all(["static/chunks/e7d07ff1ae210964.js"].map(t=>e.l(t))).then(()=>t(667558)))},926327,e=>{e.v(t=>Promise.all(["static/chunks/a5f6425a6c20e9a8.js"].map(t=>e.l(t))).then(()=>t(72947)))},207969,e=>{e.v(t=>Promise.all(["static/chunks/8dd7282c22f923f6.js"].map(t=>e.l(t))).then(()=>t(427328)))},992842,e=>{e.v(t=>Promise.all(["static/chunks/d064a48a1c7cf778.js"].map(t=>e.l(t))).then(()=>t(793794)))},239573,e=>{e.v(t=>Promise.all(["static/chunks/edc5d84148401903.js"].map(t=>e.l(t))).then(()=>t(210246)))},963685,e=>{e.v(t=>Promise.all(["static/chunks/92b20126e5ca0919.js"].map(t=>e.l(t))).then(()=>t(983756)))},665811,e=>{e.v(t=>Promise.all(["static/chunks/44e647523eaf7d10.js"].map(t=>e.l(t))).then(()=>t(544836)))},369256,e=>{e.v(t=>Promise.all(["static/chunks/8296dc618dae72f0.js"].map(t=>e.l(t))).then(()=>t(930239)))},16037,e=>{e.v(t=>Promise.all(["static/chunks/3251b4bc539a554b.js"].map(t=>e.l(t))).then(()=>t(397698)))},616788,e=>{e.v(t=>Promise.all(["static/chunks/c6b81ab43a1d5d23.js"].map(t=>e.l(t))).then(()=>t(7346)))},315750,e=>{e.v(t=>Promise.all(["static/chunks/32c236321136eb7c.js"].map(t=>e.l(t))).then(()=>t(531289)))},460510,e=>{e.v(t=>Promise.all(["static/chunks/d91062943e6a7c30.js"].map(t=>e.l(t))).then(()=>t(276898)))},550265,e=>{e.v(t=>Promise.all(["static/chunks/75ff0e62b8a31d26.js"].map(t=>e.l(t))).then(()=>t(259714)))},830960,e=>{e.v(t=>Promise.all(["static/chunks/b44aa26556fee7df.js"].map(t=>e.l(t))).then(()=>t(882885)))},336744,e=>{e.v(t=>Promise.all(["static/chunks/2b0767b5c008139a.js"].map(t=>e.l(t))).then(()=>t(955268)))},63631,e=>{e.v(t=>Promise.all(["static/chunks/21a4706e1f02d90b.js"].map(t=>e.l(t))).then(()=>t(853630)))},396476,e=>{e.v(t=>Promise.all(["static/chunks/265a0c1d143bd3f1.js"].map(t=>e.l(t))).then(()=>t(62943)))},912072,e=>{e.v(t=>Promise.all(["static/chunks/c17c80e5efc43419.js"].map(t=>e.l(t))).then(()=>t(311301)))},846537,e=>{e.v(t=>Promise.all(["static/chunks/acf3285986dfbd7a.js"].map(t=>e.l(t))).then(()=>t(245201)))},50229,e=>{e.v(t=>Promise.all(["static/chunks/3bcb48bb59845022.js"].map(t=>e.l(t))).then(()=>t(331248)))},263652,e=>{e.v(t=>Promise.all(["static/chunks/aa4006ae66587429.js"].map(t=>e.l(t))).then(()=>t(700224)))},822335,e=>{e.v(t=>Promise.all(["static/chunks/ee69726af0316987.js"].map(t=>e.l(t))).then(()=>t(48216)))},827389,e=>{e.v(t=>Promise.all(["static/chunks/f888750d45a24867.js"].map(t=>e.l(t))).then(()=>t(780795)))},306465,e=>{e.v(t=>Promise.all(["static/chunks/95db3728117c6ee7.js"].map(t=>e.l(t))).then(()=>t(84223)))},320810,e=>{e.v(t=>Promise.all(["static/chunks/f5da8b2852673ce6.js"].map(t=>e.l(t))).then(()=>t(190529)))},44756,e=>{e.v(t=>Promise.all(["static/chunks/fe9cc17dc6466440.js"].map(t=>e.l(t))).then(()=>t(411609)))},77572,e=>{e.v(t=>Promise.all(["static/chunks/881b451403819e35.js"].map(t=>e.l(t))).then(()=>t(550910)))},299015,e=>{e.v(t=>Promise.all(["static/chunks/e771049771127f6f.js"].map(t=>e.l(t))).then(()=>t(956403)))},853832,e=>{e.v(t=>Promise.all(["static/chunks/da4d4a78a31fafb9.js"].map(t=>e.l(t))).then(()=>t(523047)))},444444,e=>{e.v(t=>Promise.all(["static/chunks/f38e028ff72cdce1.js"].map(t=>e.l(t))).then(()=>t(306141)))},89982,e=>{e.v(t=>Promise.all(["static/chunks/7f0708c377c6315e.js"].map(t=>e.l(t))).then(()=>t(84181)))},439,e=>{e.v(t=>Promise.all(["static/chunks/92660c7112298340.js"].map(t=>e.l(t))).then(()=>t(585967)))},674055,e=>{e.v(t=>Promise.all(["static/chunks/7dba2c88da4802d7.js"].map(t=>e.l(t))).then(()=>t(659864)))},801894,e=>{e.v(t=>Promise.all(["static/chunks/aa9037f0686299b0.js"].map(t=>e.l(t))).then(()=>t(532683)))},578444,e=>{e.v(t=>Promise.all(["static/chunks/e8ca73a1fb74d864.js"].map(t=>e.l(t))).then(()=>t(221183)))},185608,e=>{e.v(t=>Promise.all(["static/chunks/3634617ddd98d861.js"].map(t=>e.l(t))).then(()=>t(79472)))},612314,e=>{e.v(t=>Promise.all(["static/chunks/92d2e23f362178b8.js"].map(t=>e.l(t))).then(()=>t(980791)))},660943,e=>{e.v(t=>Promise.all(["static/chunks/c90413a3fb4f7fb4.js"].map(t=>e.l(t))).then(()=>t(620893)))},214615,e=>{e.v(t=>Promise.all(["static/chunks/726c9c09fe01762c.js"].map(t=>e.l(t))).then(()=>t(194742)))},877303,e=>{e.v(t=>Promise.all(["static/chunks/65b0f15c58106291.js"].map(t=>e.l(t))).then(()=>t(85809)))},565731,e=>{e.v(t=>Promise.all(["static/chunks/a857737ee1ea178f.js"].map(t=>e.l(t))).then(()=>t(846526)))},439954,e=>{e.v(t=>Promise.all(["static/chunks/ea2e29758f7a6140.js"].map(t=>e.l(t))).then(()=>t(399358)))},646193,e=>{e.v(t=>Promise.all(["static/chunks/0e86c6f6f44c3d01.js"].map(t=>e.l(t))).then(()=>t(270671)))},470322,e=>{e.v(t=>Promise.all(["static/chunks/95e51d9895d75e1b.js"].map(t=>e.l(t))).then(()=>t(433215)))},310666,e=>{e.v(t=>Promise.all(["static/chunks/c29b3dc53abbda08.js"].map(t=>e.l(t))).then(()=>t(191809)))},38970,e=>{e.v(t=>Promise.all(["static/chunks/10af340af0ab27cf.js"].map(t=>e.l(t))).then(()=>t(66554)))},68365,e=>{e.v(t=>Promise.all(["static/chunks/8229f5f7f1da78d8.js"].map(t=>e.l(t))).then(()=>t(531769)))},705292,e=>{e.v(t=>Promise.all(["static/chunks/055f0ce00306f8fb.js"].map(t=>e.l(t))).then(()=>t(147575)))},736620,e=>{e.v(t=>Promise.all(["static/chunks/fb200c2b93e182d4.js"].map(t=>e.l(t))).then(()=>t(85022)))},101928,e=>{e.v(t=>Promise.all(["static/chunks/b11be5a5365b7b1d.js"].map(t=>e.l(t))).then(()=>t(846161)))},41375,e=>{e.v(t=>Promise.all(["static/chunks/6ce3b68ef69bef0c.js"].map(t=>e.l(t))).then(()=>t(834473)))},715733,e=>{e.v(t=>Promise.all(["static/chunks/1f996c98ffdc95c1.js"].map(t=>e.l(t))).then(()=>t(417897)))},268726,e=>{e.v(t=>Promise.all(["static/chunks/f82819fa16566fe0.js"].map(t=>e.l(t))).then(()=>t(898187)))},740028,e=>{e.v(t=>Promise.all(["static/chunks/104dd8c9c2b519a7.js"].map(t=>e.l(t))).then(()=>t(391060)))}]);

//# debugId=83665ff2-8344-3e8e-d9b1-438901231b30
//# sourceMappingURL=a7b8861412e65bba.js.map
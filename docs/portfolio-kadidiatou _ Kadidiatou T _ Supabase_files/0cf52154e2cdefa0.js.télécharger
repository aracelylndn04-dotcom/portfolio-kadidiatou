;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="23e5d70a-edd4-126d-5915-c3be0580faa0")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,793365,(e,t,r)=>{!function(i,a){if("function"==typeof define&&define.amd){let i;void 0!==(i=a(e.r,r,t))&&e.v(i)}else t.exports=a()}(e.e,function(){"use strict";Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var e={},t={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"<":function(e,t,r){return void 0===r?e<t:e<t&&t<r},"<=":function(e,t,r){return void 0===r?e<=t:e<=t&&t<=r},"!!":function(t){return e.truthy(t)},"!":function(t){return!e.truthy(t)},"%":function(e,t){return e%t},log:function(e){return console.log(e),e},in:function(e,t){return!!t&&void 0!==t.indexOf&&-1!==t.indexOf(e)},cat:function(){return Array.prototype.join.call(arguments,"")},substr:function(e,t,r){if(r<0){var i=String(e).substr(t);return i.substr(0,i.length+r)}return String(e).substr(t,r)},"+":function(){return Array.prototype.reduce.call(arguments,function(e,t){return parseFloat(e,10)+parseFloat(t,10)},0)},"*":function(){return Array.prototype.reduce.call(arguments,function(e,t){return parseFloat(e,10)*parseFloat(t,10)})},"-":function(e,t){return void 0===t?-e:e-t},"/":function(e,t){return e/t},min:function(){return Math.min.apply(this,arguments)},max:function(){return Math.max.apply(this,arguments)},merge:function(){return Array.prototype.reduce.call(arguments,function(e,t){return e.concat(t)},[])},var:function(e,t){var r=void 0===t?null:t,i=this;if(void 0===e||""===e||null===e)return i;for(var a=String(e).split("."),s=0;s<a.length;s++)if(null==i||void 0===(i=i[a[s]]))return r;return i},missing:function(){for(var t=[],r=Array.isArray(arguments[0])?arguments[0]:arguments,i=0;i<r.length;i++){var a=r[i],s=e.apply({var:a},this);(null===s||""===s)&&t.push(a)}return t},missing_some:function(t,r){var i=e.apply({missing:r},this);return r.length-i.length>=t?[]:i}};return e.is_logic=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&1===Object.keys(e).length},e.truthy=function(e){return(!Array.isArray(e)||0!==e.length)&&!!e},e.get_operator=function(e){return Object.keys(e)[0]},e.get_values=function(t){return t[e.get_operator(t)]},e.apply=function(r,i){if(Array.isArray(r))return r.map(function(t){return e.apply(t,i)});if(!e.is_logic(r))return r;var a,s,n,o,l,u=e.get_operator(r),c=r[u];if(Array.isArray(c)||(c=[c]),"if"===u||"?:"==u){for(a=0;a<c.length-1;a+=2)if(e.truthy(e.apply(c[a],i)))return e.apply(c[a+1],i);return c.length===a+1?e.apply(c[a],i):null}if("and"===u){for(a=0;a<c.length&&(s=e.apply(c[a],i),e.truthy(s));a+=1);return s}if("or"===u){for(a=0;a<c.length&&(s=e.apply(c[a],i),!e.truthy(s));a+=1);return s}if("filter"===u)return(o=e.apply(c[0],i),n=c[1],Array.isArray(o))?o.filter(function(t){return e.truthy(e.apply(n,t))}):[];if("map"===u)return(o=e.apply(c[0],i),n=c[1],Array.isArray(o))?o.map(function(t){return e.apply(n,t)}):[];else if("reduce"===u)return(o=e.apply(c[0],i),n=c[1],l=void 0!==c[2]?c[2]:null,Array.isArray(o))?o.reduce(function(t,r){return e.apply(n,{current:r,accumulator:t})},l):l;else if("all"===u){if(o=e.apply(c[0],i),n=c[1],!Array.isArray(o)||!o.length)return!1;for(a=0;a<o.length;a+=1)if(!e.truthy(e.apply(n,o[a])))return!1;return!0}else if("none"===u){if(o=e.apply(c[0],i),n=c[1],!Array.isArray(o)||!o.length)return!0;for(a=0;a<o.length;a+=1)if(e.truthy(e.apply(n,o[a])))return!1;return!0}else if("some"===u){if(o=e.apply(c[0],i),n=c[1],!Array.isArray(o)||!o.length)return!1;for(a=0;a<o.length;a+=1)if(e.truthy(e.apply(n,o[a])))return!0;return!1}if(c=c.map(function(t){return e.apply(t,i)}),t.hasOwnProperty(u)&&"function"==typeof t[u])return t[u].apply(i,c);if(u.indexOf(".")>0){var d=String(u).split("."),f=t;for(a=0;a<d.length;a++){if(!f.hasOwnProperty(d[a]))throw Error("Unrecognized operation "+u+" (failed at "+d.slice(0,a+1).join(".")+")");f=f[d[a]]}return f.apply(i,c)}throw Error("Unrecognized operation "+u)},e.uses_data=function(t){var r=[];if(e.is_logic(t)){var i=e.get_operator(t),a=t[i];Array.isArray(a)||(a=[a]),"var"===i?r.push(a[0]):a.forEach(function(t){r.push.apply(r,e.uses_data(t))})}for(var s=[],n=0,o=r.length;n<o;n++)-1===s.indexOf(r[n])&&s.push(r[n]);return s},e.add_operation=function(e,r){t[e]=r},e.rm_operation=function(e){delete t[e]},e.rule_like=function(t,r){if(r===t||"@"===r)return!0;if("number"===r)return"number"==typeof t;if("string"===r)return"string"==typeof t;if("array"===r)return Array.isArray(t)&&!e.is_logic(t);if(e.is_logic(r)){if(e.is_logic(t)){var i=e.get_operator(r),a=e.get_operator(t);if("@"===i||i===a)return e.rule_like(e.get_values(t,!1),e.get_values(r,!1))}return!1}if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)return!1;for(var s=0;s<r.length;s+=1)if(!e.rule_like(t[s],r[s]))return!1;return!0}return!1},e})},2579,e=>{"use strict";var t=e.i(793365),r=e.i(389959);e.i(128328);var i=e.i(704206),a=e.i(158639),s=e.i(154985),n=e.i(10429),o=e.i(265735),l=e.i(635494);let u=e=>`^${e.replace(".","\\.").replace("%",".*")}$`;function c(e,r){return!e.filter(e=>e.restrictive).some(({condition:e})=>null===e||t.default.apply(e,r))&&e.filter(e=>!e.restrictive).some(({condition:e})=>null===e||t.default.apply(e,r))}function d(e,t,r,i,a,s){if(!e||!Array.isArray(e))return!1;if(s){let n=e.filter(e=>e.organization_slug===a&&e.actions.some(e=>t?t.match(u(e)):null)&&e.resources.some(e=>r.match(u(e)))&&e.project_refs?.includes(s));if(n.length>0)return c(n,{resource_name:r,...i})}return c(e.filter(e=>!e.project_refs||0===e.project_refs.length).filter(e=>e.organization_slug===a&&e.actions.some(e=>t?t.match(u(e)):null)&&e.resources.some(e=>r.match(u(e)))),{resource_name:r,...i})}function f(e,t,r=!0){return h(e,t,void 0,r)}function h(e,t,r,i=!0){let{data:n,isPending:u,isSuccess:c}=(0,s.usePermissionsQuery)({enabled:void 0===e&&i}),d=void 0===t&&i,{data:f,isPending:p,isSuccess:m}=(0,o.useSelectedOrganizationQuery)({enabled:d}),y=(void 0===t?f:{slug:t})?.slug,{ref:g}=(0,a.useParams)(),_=!!g&&void 0===r&&i,{data:b,isPending:A,isSuccess:E}=(0,l.useSelectedProjectQuery)({enabled:_}),v=void 0===r||b?.parent_project_ref?b:{ref:r,parent_project_ref:void 0},T=v?.parent_project_ref?v.parent_project_ref:v?.ref;return{permissions:void 0===e?n:e,organizationSlug:y,projectRef:T,isLoading:u||d&&p||_&&A,isSuccess:c&&(!d||m)&&(!_||E)}}function p(e,t,a,s){let o=(0,i.useIsLoggedIn)(),{organizationSlug:l,projectRef:u,permissions:c}=s??{},{permissions:f,organizationSlug:p,projectRef:m,isLoading:y,isSuccess:g}=h(c,l,u,o),_=(0,r.useMemo)(()=>!n.IS_PLATFORM||!!o&&!!g&&!!f&&d(f,e,t,a,p,m),[o,g,f,e,t,a,p,m]);return{isLoading:!!n.IS_PLATFORM&&(!o||y),isSuccess:!n.IS_PLATFORM||!!o&&g,can:_}}e.s(["doPermissionsCheck",()=>d,"useAsyncCheckPermissions",()=>p,"useGetPermissions",()=>f])},627069,e=>{"use strict";var t=e.i(478902),r=e.i(389959),i=e.i(843778);let a=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,i.cn)("overflow-hidden rounded-lg border bg-surface-100 text-card-foreground shadow-sm",e),...r}));a.displayName="Card";let s=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 py-4 px-[var(--card-padding-x)] border-b",e),...r}));s.displayName="CardHeader";let n=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("h3",{ref:a,className:(0,i.cn)("text-xs font-mono uppercase",e),...r}));n.displayName="CardTitle";let o=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("p",{ref:a,className:(0,i.cn)("text-sm text-foreground-lighter",e),...r}));o.displayName="CardDescription";let l=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,i.cn)("py-4 px-[var(--card-padding-x)] border-b last:border-none",e),...r}));l.displayName="CardContent";let u=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center py-4 px-[var(--card-padding-x)]",e),...r}));u.displayName="CardFooter",e.s(["Card",()=>a,"CardContent",()=>l,"CardDescription",()=>o,"CardFooter",()=>u,"CardHeader",()=>s,"CardTitle",()=>n])},365257,e=>{"use strict";let t=(0,e.i(388019).default)("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);e.s(["ChevronsUpDown",()=>t],365257)},177948,722639,749844,e=>{"use strict";var t=e.i(388019);let r=(0,t.default)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);e.s(["default",()=>r],722639),e.s(["ArrowDown",()=>r],177948);let i=(0,t.default)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);e.s(["ArrowUp",()=>i],749844)},679367,e=>{"use strict";var t=e.i(478902),r=e.i(389959),i=e.i(843778);let a=r.forwardRef(({className:e,containerClassName:a,children:s,stickyLastColumn:n,outerContainerRef:o,...l},u)=>{let c=r.useRef(null),{hasHorizontalScroll:d,canScrollLeft:f,canScrollRight:h}=(e=>{let[t,i]=r.useState(!1),[a,s]=r.useState(!1),[n,o]=r.useState(!1);return r.useEffect(()=>{let r=e.current;if(!r)return;let a=()=>{let e=r.scrollWidth>r.clientWidth;if(i(e),e){let e=r.scrollLeft>0,t=r.scrollLeft<r.scrollWidth-r.clientWidth;s(e),o(t)}else s(!1),o(!1)},n=()=>{if(t){let e=r.scrollLeft>0,t=r.scrollLeft<r.scrollWidth-r.clientWidth;s(e),o(t)}};return a(),r.addEventListener("scroll",n),window.addEventListener("resize",a),()=>{r.removeEventListener("scroll",n),window.removeEventListener("resize",a)}},[e,t]),{hasHorizontalScroll:t,canScrollLeft:a,canScrollRight:n}})(c),p=(0,i.cn)("[&_td:last-child]:before:absolute [&_td:last-child]:before:top-0 [&_td:last-child]:before:-left-6","[&_td:last-child]:before:bottom-0 [&_td:last-child]:before:w-6 [&_td:last-child]:before:bg-gradient-to-l","[&_td:last-child]:before:from-black/5 dark:[&_td:last-child]:before:from-black/20 [&_td:last-child]:before:to-transparent","[&_td:last-child]:before:opacity-0 [&_td:last-child]:before:transition-all [&_td:last-child]:before:duration-400","[&_td:last-child]:before:easing-[0.24, 0.25, 0.05, 1] [&_td:last-child]:before:z-[39]","[&_th:last-child]:before:absolute [&_th:last-child]:before:top-0 [&_th:last-child]:before:-left-6","[&_th:last-child]:before:bottom-0 [&_th:last-child]:before:w-6 [&_th:last-child]:before:bg-gradient-to-l","[&_th:last-child]:before:from-black/5 dark:[&_th:last-child]:before:from-black/20 [&_th:last-child]:before:to-transparent","[&_th:last-child]:before:opacity-0 [&_th:last-child]:before:transition-all [&_th:last-child]:before:duration-400","[&_th:last-child]:before:easing-[0.24, 0.25, 0.05, 1] [&_th:last-child]:before:z-[39]");return(0,t.jsxs)("div",{ref:o,className:(0,i.cn)(a,"relative"),children:[(0,t.jsx)("div",{className:(0,i.cn)("absolute inset-0 pointer-events-none z-[38]","before:absolute before:top-0 before:right-0 before:bottom-0 before:w-6 before:bg-gradient-to-l before:from-black/5 dark:before:from-black/20 before:to-transparent before:opacity-0 before:transition-all before:duration-400 before:easing-[0.24, 0.25, 0.05, 1]","after:absolute after:top-0 after:left-0 after:bottom-0 after:w-6 after:bg-gradient-to-r after:from-black/5 dark:after:from-black/20 after:to-transparent after:opacity-0 after:transition-all after:duration-400 after:easing-[0.24, 0.25, 0.05, 1]",d&&"hover:before:opacity-100 hover:after:opacity-100",h&&"before:opacity-100",f&&"after:opacity-100")}),(0,t.jsx)("div",{ref:c,className:(0,i.cn)("w-full overflow-auto",n&&["[&_tr>*:last-child]:sticky [&_tr>*:last-child]:z-[38] [&_tr>*:last-child]:right-0","[&_tr:hover>*:last-child]:bg-transparent","[&_th>*:last-child]:bg-surface-100",p],d&&"[&_tr:hover>td:last-child]:!bg-surface-200",h&&"[&_td]:before:opacity-100 [&_tr>*:last-child]:before:opacity-100 [&_th:last-child]:before:opacity-100",e),...l,children:s})]})});a.displayName="ShadowScrollArea",e.s(["ShadowScrollArea",()=>a],679367)},492418,e=>{"use strict";var t=e.i(478902),r=e.i(177948),i=e.i(749844),a=e.i(365257),s=e.i(389959),n=e.i(843778),o=e.i(679367);let l=s.forwardRef(({className:e,containerProps:r,...i},a)=>(0,t.jsx)(o.ShadowScrollArea,{...r,children:(0,t.jsx)("table",{ref:a,className:(0,n.cn)("group/table w-full caption-bottom text-sm",e),...i})}));l.displayName="Table";let u=s.forwardRef(({className:e,...r},i)=>(0,t.jsx)("thead",{ref:i,className:(0,n.cn)("[&_tr]:border-b [&>tr]:bg-200",e),...r}));u.displayName="TableHeader";let c=s.forwardRef(({className:e,...r},i)=>(0,t.jsx)("tbody",{ref:i,className:(0,n.cn)("[&_tr:last-child]:border-0",e),...r}));c.displayName="TableBody";let d=s.forwardRef(({className:e,...r},i)=>(0,t.jsx)("tfoot",{ref:i,className:(0,n.cn)("border-t font-medium",e),...r}));d.displayName="TableFooter";let f=s.forwardRef(({className:e,...r},i)=>(0,t.jsx)("tr",{ref:i,className:(0,n.cn)("border-b [&>td]:hover:bg-surface-200 data-[state=selected]:bg-muted",e),...r}));f.displayName="TableRow";let h=s.forwardRef(({className:e,...r},i)=>(0,t.jsx)("th",{ref:i,className:(0,n.cn)("h-10 px-4 text-left align-middle heading-meta whitespace-nowrap text-foreground-lighter [&:has([role=checkbox])]:pr-0","transition-colors",e),...r}));function p({column:e,currentSort:s,onSortChange:o,children:l,className:u}){let c,[d,f]=s.split(":"),h=d===e;return(0,t.jsxs)("button",{type:"button",className:(0,n.cn)("group/table-head-sort heading-meta whitespace-nowrap flex items-center gap-1 cursor-pointer select-none !bg-transparent border-none p-0 w-full text-left",u),onClick:()=>o(e),children:[l,(0,t.jsx)("div",{className:"w-3 h-3 relative overflow-hidden",children:(c="w-3 h-3 absolute inset-0",(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.ArrowUp,{className:(0,n.cn)(c,"transition-transform",h&&"asc"===f?"translate-y-0":"translate-y-full")}),(0,t.jsx)(r.ArrowDown,{className:(0,n.cn)(c,"transition-transform",h&&"desc"===f?"translate-y-0":"-translate-y-full")}),(0,t.jsx)(a.ChevronsUpDown,{className:(0,n.cn)(c,"transition-opacity opacity-80 md:opacity-40",h?"!opacity-0":"group-hover/table-head-sort:opacity-80")})]}))})]})}h.displayName="TableHead",p.displayName="TableHeadSort";let m=s.forwardRef(({className:e,...r},i)=>(0,t.jsx)("td",{ref:i,className:(0,n.cn)("transition-colors p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));m.displayName="TableCell";let y=s.forwardRef(({className:e,...r},i)=>(0,t.jsx)("caption",{ref:i,className:(0,n.cn)("border-t","p-4 text-sm text-foreground-muted",e),...r}));y.displayName="TableCaption",e.s(["Table",()=>l,"TableBody",()=>c,"TableCaption",()=>y,"TableCell",()=>m,"TableFooter",()=>d,"TableHead",()=>h,"TableHeadSort",()=>p,"TableHeader",()=>u,"TableRow",()=>f])},108151,e=>{"use strict";var t=e.i(478902),r=e.i(389959),i=e.i(627069),a=e.i(843778),s=e.i(492418);let n=(0,r.forwardRef)(({className:e,style:r,delayIndex:i=0,animationDelay:s=150},n)=>(0,t.jsx)("div",{ref:n,className:(0,a.cn)("shimmering-loader rounded py-3",e),style:{...r,animationFillMode:"backwards",animationDelay:`${i*s}ms`}}));n.displayName="ShimmeringLoader",e.s(["GenericSkeletonLoader",0,({className:e})=>(0,t.jsxs)("div",{className:(0,a.cn)(e,"space-y-2"),children:[(0,t.jsx)(n,{}),(0,t.jsx)(n,{className:"w-3/4"}),(0,t.jsx)(n,{className:"w-1/2"})]}),"GenericTableLoader",0,({headers:e=[],numRows:r=3})=>(0,t.jsx)(i.Card,{children:(0,t.jsxs)(s.Table,{children:[(0,t.jsx)(s.TableHeader,{children:(0,t.jsx)(s.TableRow,{children:0===e.length?(0,t.jsx)(s.TableHead,{}):e.map((e,r)=>(0,t.jsx)(s.TableHead,{children:e},`${e}_${r}`))})}),(0,t.jsx)(s.TableBody,{children:Array(r).fill(0).map((r,i)=>(0,t.jsx)(s.TableRow,{children:(0,t.jsx)(s.TableCell,{colSpan:e.length,children:(0,t.jsx)(n,{})})},`row_${i}`))})]})}),"ShimmeringLoader",0,n,"default",0,n])},265735,e=>{"use strict";e.i(128328);var t=e.i(704206),r=e.i(158639),i=e.i(811025),a=e.i(164045);function s({enabled:e=!0}={}){let n=(0,t.useIsLoggedIn)(),{ref:o,slug:l}=(0,r.useParams)(),{data:u}=(0,a.useProjectDetailQuery)({ref:o});return(0,i.useOrganizationsQuery)({enabled:n&&e,select:e=>e.find(e=>void 0!==l?e.slug===l:void 0!==u?e.id===u.organization_id:void 0)})}e.s(["useSelectedOrganizationQuery",()=>s])},162082,e=>{"use strict";var t=e.i(38429);e.i(128328);var r=e.i(277948),i=e.i(234745),a=e.i(10429),s=e.i(346428);async function n({event:e,pathname:t}){try{await (0,r.sendTelemetryEvent)(a.API_URL,e,t)}catch(e){(0,i.handleError)(e)}}e.s(["sendEvent",()=>n,"useSendEventMutation",0,({onSuccess:e,onError:r,...i}={})=>{let a=(0,s.useRouter)();return(0,t.useMutation)({mutationFn:e=>n({event:e,pathname:a.pathname}),async onSuccess(t,r,i){await e?.(t,r,i)},async onError(e,t,i){void 0===r?console.error(`Failed to send Telemetry event: ${e.message}`):r(e,t,i)},...i})}])},611223,711950,268546,486144,e=>{"use strict";var t=e.i(38429),r=e.i(356003),i=e.i(355901),a=e.i(234745);let s={list:()=>["organizations"],detail:e=>["organizations",e],members:e=>["organizations",e,"members"],mfa:e=>["organizations",e,"mfa"],paymentMethods:e=>["organizations",e,"payment-methods"],entitlements:e=>["entitlements",e],roles:e=>["organizations",e,"roles"],freeProjectLimitCheck:e=>["organizations",e,"free-project-limit-check"],customerProfile:e=>["organizations",e,"customer-profile"],auditLogs:(e,{date_start:t,date_end:r})=>["organizations",e,"audit-logs",{date_start:t,date_end:r}],subscriptionPreview:(e,t)=>["organizations",e,"subscription","preview",t],taxId:e=>["organizations",e,"tax-ids"],tokenValidation:(e,t)=>["organizations",e,"validate-token",t],projectClaim:(e,t)=>["organizations",e,"project-claim",t],availableRegions:(e,t,r)=>["organizations",e,"available-regions",t,r],previewCreditCode:(e,t)=>["organizations",e,"preview-credit-code",t]};e.s(["organizationKeys",0,s],711950);var n=e.i(783104),o=e.i(61837);async function l(){let{data:e,error:t}=await (0,a.post)("/platform/profile");return t&&(0,a.handleError)(t),e}e.s(["useProfileCreateMutation",0,({onSuccess:e,onError:a,...u}={})=>{let c=(0,r.useQueryClient)();return(0,t.useMutation)({mutationFn:()=>l(),async onSuccess(t,r,i){await Promise.all([c.invalidateQueries({queryKey:o.profileKeys.profile()}),c.invalidateQueries({queryKey:s.list()}),c.invalidateQueries({queryKey:n.permissionKeys.list()})]),await e?.(t,r,i)},async onError(e,t,r){void 0===a?i.toast.error(`Failed to create profile: ${e.message}`):a(e,t,r)},...u})}],611223);var u=e.i(242882),c=e.i(892354);async function d(){let{error:e,data:t}=await c.auth.getSession();if(e)throw e;if(!t.session)throw Error("Session not found with getSession()");let{identities:r=[],new_email:i,email_change_sent_at:a}=t.session.user;return{identities:r,new_email:i,email_change_sent_at:a}}e.s(["useProfileIdentitiesQuery",0,({enabled:e=!0,...t}={})=>(0,u.useQuery)({queryKey:o.profileKeys.identities(),queryFn:()=>d(),...t})],268546);var f=e.i(715072),h=e.i(10429);async function p(e){let{data:t,error:r}=await (0,a.get)("/platform/profile",{signal:e,headers:{Version:"2"}});return(r&&(0,a.handleError)(r),h.IS_PLATFORM)?t:{...t,disabled_features:f.default.env.NEXT_PUBLIC_DISABLED_FEATURES?.split(",")??[]}}e.s(["useProfileQuery",0,({enabled:e=!0,...t}={})=>(0,u.useQuery)({queryKey:o.profileKeys.profile(),queryFn:({signal:e})=>p(e),staleTime:18e5,...t,enabled:e})],486144)},519835,e=>{"use strict";var t=e.i(715072);e.i(128328);var r=e.i(947748),i=e.i(48189);let a=t.default.env.NEXT_PUBLIC_GITHUB_INTEGRATION_APP_NAME||(void 0!==t.default.env.NEXT_PUBLIC_IS_NIMBUS?"supabase-snap":"supabase"),s=t.default.env.NEXT_PUBLIC_GITHUB_INTEGRATION_CLIENT_ID||(void 0!==t.default.env.NEXT_PUBLIC_IS_NIMBUS?"Iv23li2pAiqDGgaSrP8q":"Iv1.b91a6d8eaa272168"),n=`https://github.com/login/oauth/authorize?client_id=${s}`,o=`https://github.com/apps/${a}/installations/new`,l=`https://github.com/settings/connections/applications/${s}`;function u(e,t){let a,s=void 0!==window.screenLeft?window.screenLeft:window.screenX,l=void 0!==window.screenTop?window.screenTop:window.screenY,u=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,c=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;if("install"===e)a=o;else{let e=(0,i.makeRandomString)(32);localStorage.setItem(r.LOCAL_STORAGE_KEYS.GITHUB_AUTHORIZATION_STATE,e),a=`${n}&state=${e}&prompt=select_account`}let d=u/window.screen.availWidth,f=window.open(a,"GitHub",`scrollbars=yes,resizable=no,status=no,location=no,toolbar=no,menubar=no,
     width=${600/d}, 
     height=${800/d}, 
     top=${(c-800)/2/d+l}, 
     left=${(u-600)/2/d+s}
     `);if(f){if(t){let e=setInterval(()=>{f.closed&&(clearInterval(e),t())},500);setTimeout(()=>{clearInterval(e)},3e5)}f.focus()}}e.s(["GITHUB_INTEGRATION_INSTALLATION_URL",0,o,"GITHUB_INTEGRATION_REVOKE_AUTHORIZATION_URL",0,l,"getGitHubProfileImgUrl",0,e=>`https://github.com/${e}.png?size=96`,"openInstallGitHubIntegrationWindow",()=>u])},432478,e=>{"use strict";var t=e.i(478902),r=e.i(817729),i=e.i(346428),a=e.i(389959),s=e.i(355901);e.i(128328);var n=e.i(704206),o=e.i(154985),l=e.i(611223),u=e.i(268546),c=e.i(486144),d=e.i(162082),f=e.i(601116),h=e.i(519835);let p=(0,a.createContext)({profile:void 0,error:null,isLoading:!0,isError:!1,isSuccess:!1}),m=()=>(0,a.useContext)(p);function y(){let{profile:e,isLoading:t}=m(),{data:r,isPending:i}=(0,u.useProfileIdentitiesQuery)();e?.username;let a=e?.auth0_id?.startsWith("github"),s=a?r?.identities.find(e=>"github"===e.provider)?.identity_data?.user_name:void 0,n=a?(0,h.getGitHubProfileImgUrl)(s):void 0;return{username:e?.username,primaryEmail:e?.primary_email,avatarUrl:n,isLoading:t||i}}e.s(["ProfileProvider",0,({children:e})=>{let u=(0,n.useUser)(),h=(0,n.useIsLoggedIn)(),m=(0,i.useRouter)(),y=(0,f.useSignOut)(),{mutate:g}=(0,d.useSendEventMutation)(),{mutate:_,isPending:b}=(0,l.useProfileCreateMutation)({onSuccess:()=>{if(g({action:"sign_up",properties:{category:"conversion"}}),u){let e=window;e.dataLayer=e.dataLayer||[],e.dataLayer.push({event:"sign_up",email:u.email})}},onError:e=>{409===e.code?r.captureMessage("Profile already exists: "+e.message):(r.captureMessage("Failed to create users profile: "+e.message),s.toast.error("Failed to create your profile. Please refresh to try again."))}}),{error:A,data:E,isPending:v,isError:T,isSuccess:S}=(0,c.useProfileQuery)({enabled:h});(0,a.useEffect)(()=>{T&&(A?.message==="User's profile not found"&&_(),A?.code===401&&y().then(()=>m.push("/sign-in")))},[A,y,m,_,T]);let{isInitialLoading:R}=(0,o.usePermissionsQuery)({enabled:h}),w=(0,a.useMemo)(()=>({error:A,profile:E,isLoading:v||b||R,isError:T,isSuccess:S}),[v,b,R,E,A,T,S]);return(0,t.jsx)(p.Provider,{value:w,children:e})},"useProfile",0,m,"useProfileNameAndPicture",()=>y])},66863,e=>{"use strict";var t=e.i(551390),r=e.i(518516),i=e.i(554532),a=class extends r.Removable{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||s(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||("pending"===this.state.status?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#i({type:"continue"})};this.#r=(0,i.createRetryer)({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#i({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#i({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});let r="pending"===this.state.status,a=!this.#r.canStart();try{if(r)t();else{this.#i({type:"pending",variables:e,isPaused:a}),await this.#t.config.onMutate?.(e,this);let t=await this.options.onMutate?.(e);t!==this.state.context&&this.#i({type:"pending",context:t,variables:e,isPaused:a})}let i=await this.#r.start();return await this.#t.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#i({type:"success",data:i}),i}catch(t){try{throw await this.#t.config.onError?.(t,e,this.state.context,this),await this.options.onError?.(t,e,this.state.context),await this.#t.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,t,e,this.state.context),t}finally{this.#i({type:"error",error:t})}}finally{this.#t.runNext(this)}}#i(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),t.notifyManager.batch(()=>{this.#e.forEach(t=>{t.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function s(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}e.s(["Mutation",()=>a,"getDefaultState",()=>s])},38429,e=>{"use strict";var t=e.i(389959),r=e.i(66863),i=e.i(551390),a=e.i(976149),s=e.i(201844),n=class extends a.Subscribable{#a;#s=void 0;#n;#o;constructor(e,t){super(),this.#a=e,this.setOptions(t),this.bindMethods(),this.#l()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#a.defaultMutationOptions(e),(0,s.shallowEqualObjects)(this.options,t)||this.#a.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,s.hashKey)(t.mutationKey)!==(0,s.hashKey)(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#l(),this.#u(e)}getCurrentResult(){return this.#s}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#l(),this.#u()}mutate(e,t){return this.#o=t,this.#n?.removeObserver(this),this.#n=this.#a.getMutationCache().build(this.#a,this.options),this.#n.addObserver(this),this.#n.execute(e)}#l(){let e=this.#n?.state??(0,r.getDefaultState)();this.#s={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#u(e){i.notifyManager.batch(()=>{if(this.#o&&this.hasListeners()){let t=this.#s.variables,r=this.#s.context;e?.type==="success"?(this.#o.onSuccess?.(e.data,t,r),this.#o.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#o.onError?.(e.error,t,r),this.#o.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#s)})})}},o=e.i(356003);function l(e,r){let a=(0,o.useQueryClient)(r),[l]=t.useState(()=>new n(a,e));t.useEffect(()=>{l.setOptions(e)},[l,e]);let u=t.useSyncExternalStore(t.useCallback(e=>l.subscribe(i.notifyManager.batchCalls(e)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),c=t.useCallback((e,t)=>{l.mutate(e,t).catch(s.noop)},[l]);if(u.error&&(0,s.shouldThrowError)(l.options.throwOnError,[u.error]))throw u.error;return{...u,mutate:c,mutateAsync:u.mutate}}e.s(["useMutation",()=>l],38429)},892354,e=>{"use strict";let t=e.i(109294).gotrueClient,r="/organizations",i=async e=>{try{let{data:r,error:i}=await t.getClaims(e.replace(/bearer /i,""));if(i)throw i;return{claims:r?.claims??null,error:null}}catch(e){return console.error(e),{claims:null,error:e}}};e.s(["auth",0,t,"buildPathWithParams",0,e=>{let[t,r]=e.split("?",2),i=new URLSearchParams(r||""),a=new URLSearchParams(location.search);for(let[e,t]of i.entries())a.set(e,t);let s=a.toString();return s?`${t}?${s}`:t},"getReturnToPath",0,(e=r)=>{if("undefined"==typeof location)return e;let t=new URLSearchParams(location.search),i=t.get("returnTo")??e;i=i.replace("/dashboard",""),t.delete("returnTo");let a=t.toString(),[s,n]=((e,t=r)=>e.startsWith("//")||e.includes("://")?t:/^\/[a-zA-Z0-9/\-_]*(?:\?[a-zA-Z0-9\-_=&]*)?$/.test(e)?e:t)(i,e).split("?"),o=new URLSearchParams(n||"");a&&new URLSearchParams(a).forEach((e,t)=>{o.append(t,e)});let l=o.toString();return s+(l?`?${l}`:"")},"getUserClaims",0,i])},154985,783104,e=>{"use strict";var t=e.i(242882);e.i(128328);var r=e.i(704206),i=e.i(234745),a=e.i(10429);let s={list:()=>["permissions"]};async function n(e){let{data:t,error:r}=await (0,i.get)("/platform/profile/permissions",{signal:e});return r&&(0,i.handleError)(r,{sentryContext:{tags:{permissionsQuery:!0},contexts:{rawError:r}}}),t}e.s(["permissionKeys",0,s],783104),e.s(["usePermissionsQuery",0,({enabled:e=!0,...i}={})=>{let o=(0,r.useIsLoggedIn)();return(0,t.useQuery)({queryKey:s.list(),queryFn:({signal:e})=>n(e),...i,enabled:a.IS_PLATFORM&&e&&o,staleTime:3e5})}],154985)},61837,e=>{"use strict";e.s(["profileKeys",0,{profile:()=>["profile"],mfaFactors:()=>["mfa","factors"],identities:()=>["profile","identities"],aaLevel:()=>["mfa","aaLevel"],auditLogs:({date_start:e,date_end:t})=>["profile","audit-logs",{date_start:e,date_end:t}]}])},811025,e=>{"use strict";var t=e.i(242882),r=e.i(234745),i=e.i(837508),a=e.i(432478),s=e.i(711950);function n(e){return{...e,billing_email:e.billing_email??"Unknown",managed_by:function(e){switch(e.billing_partner){case"vercel_marketplace":return i.MANAGED_BY.VERCEL_MARKETPLACE;case"aws_marketplace":return i.MANAGED_BY.AWS_MARKETPLACE;default:return i.MANAGED_BY.SUPABASE}}(e),partner_id:e.slug.startsWith("vercel_")?e.slug.replace("vercel_",""):void 0}}async function o({signal:e,headers:t}){let{data:i,error:a}=await (0,r.get)("/platform/organizations",{signal:e,headers:t});return(a&&(0,r.handleError)(a),Array.isArray(i))?i.map(n).sort((e,t)=>e.name.localeCompare(t.name)):[]}function l(e){return e.invalidateQueries({queryKey:s.organizationKeys.list()})}e.s(["castOrganizationResponseToOrganization",()=>n,"invalidateOrganizationsQuery",()=>l,"useOrganizationsQuery",0,({enabled:e=!0,...r}={})=>{let{profile:i}=(0,a.useProfile)();return(0,t.useQuery)({queryKey:s.organizationKeys.list(),queryFn:({signal:e})=>o({signal:e}),enabled:e&&void 0!==i,...r,staleTime:18e5})}])},934302,(e,t,r)=>{"use strict";var i,a,s,n;Object.defineProperty(r,"__esModule",{value:!0}),r.SupportCategories=r.OAuthScope=r.PermissionAction=r.DEFAULT_REALTIME_SLOT_NAME_WITH_WALRUS=r.ServiceNames=void 0,(i=r.ServiceNames||(r.ServiceNames={})).AdminApi="adminapi",i.ApiGateway="api-gateway",i.Envoy="envoy",i.Functions="functions",i.Gotrue="gotrue",i.Kong="kong",i.Pgbouncer="pgbouncer",i.Pgsodium="pgsodium",i.Postgresql="postgresql",i.Postgrest="postgrest",i.Realtime="realtime",i.Storage="storage",i.Walg="walg",i.AutoShutdown="autoshutdown",r.DEFAULT_REALTIME_SLOT_NAME_WITH_WALRUS="realtime_rls",(a=r.PermissionAction||(r.PermissionAction={})).ANALYTICS_ADMIN_READ="analytics:Admin:Read",a.ANALYTICS_ADMIN_WRITE="analytics:Admin:Write",a.ANALYTICS_READ="analytics:Read",a.ANALYTICS_WRITE="analytics:Write",a.AUTH_EXECUTE="auth:Execute",a.BILLING_READ="billing:Read",a.BILLING_WRITE="billing:Write",a.CREATE="write:Create",a.DELETE="write:Delete",a.FUNCTIONS_READ="functions:Read",a.FUNCTIONS_WRITE="functions:Write",a.FUNCTIONS_SECRET_READ="functions:Secret:Read",a.FUNCTIONS_SECRET_WRITE="functions:Secret:Write",a.INFRA_EXECUTE="infra:Execute",a.READ="read:Read",a.SECRETS_READ="secrets:Read",a.SECRETS_WRITE="secrets:Write",a.SQL_SELECT="sql:Read:Select",a.SQL_DELETE="sql:Write:Delete",a.SQL_INSERT="sql:Write:Insert",a.SQL_UPDATE="sql:Write:Update",a.STORAGE_ADMIN_READ="storage:Admin:Read",a.STORAGE_ADMIN_WRITE="storage:Admin:Write",a.STORAGE_READ="storage:Read",a.STORAGE_WRITE="storage:Write",a.REALTIME_ADMIN_READ="realtime:Admin:Read",a.REALTIME_ADMIN_WRITE="realtime:Admin:Write",a.REPLICATION_ADMIN_READ="replication:Admin:Read",a.REPLICATION_ADMIN_WRITE="replication:Admin:Write",a.TENANT_SQL_ADMIN_READ="tenant:Sql:Admin:Read",a.TENANT_SQL_ADMIN_WRITE="tenant:Sql:Admin:Write",a.TENANT_SQL_CREATE_TABLE="tenant:Sql:CreateTable",a.TENANT_SQL_DELETE="tenant:Sql:Write:Delete",a.TENANT_SQL_INSERT="tenant:Sql:Write:Insert",a.TENANT_SQL_QUERY="tenant:Sql:Query",a.TENANT_SQL_SELECT="tenant:Sql:Read:Select",a.TENANT_SQL_UPDATE="tenant:Sql:Write:Update",a.UPDATE="write:Update",(s=r.OAuthScope||(r.OAuthScope={})).ANALYTICS_READ="analytics:read",s.ANALYTICS_WRITE="analytics:write",s.AUTH_READ="auth:read",s.AUTH_WRITE="auth:write",s.DATABASE_READ="database:read",s.DATABASE_WRITE="database:write",s.DOMAINS_READ="domains:read",s.DOMAINS_WRITE="domains:write",s.EDGE_FUNCTIONS_READ="edge_functions:read",s.EDGE_FUNCTIONS_WRITE="edge_functions:write",s.ENVIRONMENT_READ="environment:read",s.ENVIRONMENT_WRITE="environment:write",s.ORGANIZATIONS_READ="organizations:read",s.ORGANIZATIONS_WRITE="organizations:write",s.PROJECTS_READ="projects:read",s.PROJECTS_WRITE="projects:write",s.REST_READ="rest:read",s.REST_WRITE="rest:write",s.SECRETS_READ="secrets:read",s.SECRETS_WRITE="secrets:write",s.STORAGE_READ="storage:read",s.STORAGE_WRITE="storage:write",(n=r.SupportCategories||(r.SupportCategories={})).PROBLEM="Problem",n.DASHBOARD_BUG="Dashboard_bug",n.DATABASE_UNRESPONSIVE="Database_unresponsive",n.PERFORMANCE_ISSUES="Performance",n.SALES_ENQUIRY="Sales",n.BILLING="Billing",n.REFUND="Refund",n.ABUSE="Abuse",n.LOGIN_ISSUES="Login_issues",n.ACCOUNT_DELETION="Account_deletion"}]);

//# debugId=23e5d70a-edd4-126d-5915-c3be0580faa0
//# sourceMappingURL=fa8f428130512e99.js.map